import datetime
import os


# Getting the path of the files being used.
folder_path = os.path.dirname(os.path.abspath(__file__))
data_folder = os.path.abspath(os.path.join(folder_path, "..", "data"))
outputs_folder = os.path.abspath(os.path.join(folder_path, "..", "model_outputs"))
files = []
for x in os.walk(data_folder):
    for y in x[1]:
        if len(x[1]) > 0:
            files.append("/".join([x[0], y]))
    try:
        for y in x[2]:
            if isinstance(y, str):
                files.append("/".join([x[0], y]))
    except:
        pass
files = [x for x in files if x.split(".")[-1] in ["parquet", "xlsx"]]
daylight_path = [x for x in files if "astronomical" in x][0]
h_weather_path = [x for x in files if "historic_hourly_weather" in x][0]
h_average_weahter_path = [x for x in files if "average_hourly" in x][0]
demand_path = [x for x in files if "gross_demand." in x][0]
corrected_demand_path = [x for x in files if "gross_demand_daily" in x][0]


# Default initial date
initial_date = datetime.date(2015, 1, 1)
forecast_horizon = {"D": datetime.timedelta(days=30), "M": datetime.timedelta(days=365)}

# Default parameters for scoring models:
daily_cross_val_horizon = "366 days"
daily_initial = "2190 days"
daily_period = "180 days"
monthly_cross_val_horizon = "366 days"
monthly_initial = "1095 days"
monthly_period = "180 days"


# Default Regressors:
yearly_regressors = [
    "is_apr",
    "is_aug",
    "is_dec",
    "is_feb",
    "is_jan",
    "is_jul",
    "is_jun",
    "is_leap",
    "is_mar",
    "is_may",
    "is_nov",
    "is_oct",
    "is_sep",
    "weekdays",
]
default_monthly_regressors = ["gdp", "population", "energy_cap"]
weather_regressors = ["temperature", "hdd", "cdd"]


# Main HyperParameters to be optimized:
daily_base_tuning = [
    "changepoint_prior_scale",
    "seasonality_prior_scale",
    "holidays_prior_scale",
    "changepoint_range",
]
monthly_base_tuning = ["changepoint_prior_scale", "changepoint_range"]


# Default spaces for Hyperopt optimization:
daily_base_hyperopt = {
    "changepoint_prior_scale": (0.01, 0.05),
    "seasonality_prior_scale": (5, 30),
    "holidays_prior_scale": (5, 30),
    "changepoint_range": (0.99, 1),
}
daily_regressors_hyperopt = {
    "temperature": (5, 30),
    "hdd": (5, 30),
    "cdd": (5, 30),
    "sat_reg": (5, 30),
    "sun_reg": (5, 30),
}
monthly_base_hyperopt = {
    "changepoint_prior_scale": (0.001, 0.05),
    "seasonality_prior_scale": (5, 10),
    "changepoint_range": (0.8, 0.9),
}
monthly_non_dom_regressors = {
    "gdp": (5, 10),
    "is_jan": (0, 0.5),
    "is_feb": (0, 0.5),
    "is_leap": (0, 0.5),
    "is_mar": (0, 0.5),
    "is_apr": (0, 0.5),
    "is_may": (0, 0.5),
    "is_jun": (0, 0.5),
    "is_jul": (0, 0.5),
    "is_aug": (0, 0.5),
    "is_sep": (0, 0.5),
    "is_oct": (0, 0.5),
    "is_nov": (0, 0.5),
    "is_dec": (0, 0.5),
    "weekdays": (0, 0.5),
    "covid_1": (0, 5),
    "covid_2": (0, 5),
    "covid_3": (0, 5),
    "abnormal": (0, 5),
}
monthly_dom_regressors = {
    "population": (5, 10),
    "energy_cap": (5, 10),
    "is_jan": (0, 0.2),
    "is_feb": (0, 0.2),
    "is_leap": (0, 0.2),
    "is_mar": (0, 0.2),
    "is_apr": (0, 0.2),
    "is_may": (0, 0.2),
    "is_jun": (0, 0.2),
    "is_jul": (0, 0.2),
    "is_aug": (0, 0.2),
    "is_sep": (0, 0.2),
    "is_oct": (0, 0.2),
    "is_nov": (0, 0.2),
    "is_dec": (0, 0.2),
    "weekdays": (0, 0.3),
    "covid_1": (0, 5),
    "covid_2": (0, 5),
    "covid_3": (0, 5),
    "covid_4": (0, 5),
    "covid_5": (0, 5),
}


# Dummy variables
gdp_dummy = {"ds": [2022_1, 2022_2], "gdp": [3, 4]}
pop_dummy = {"year": [2021, 2022], "population": [3, 4]}


default_gdp_dic = {
    "ds": [
        2015_1,
        2015_2,
        2015_3,
        2015_4,
        2015_5,
        2015_6,
        2015_7,
        2015_8,
        2015_9,
        2015_10,
        2015_11,
        2015_12,
        2016_1,
        2016_2,
        2016_3,
        2016_4,
        2016_5,
        2016_6,
        2016_7,
        2016_8,
        2016_9,
        2016_10,
        2016_11,
        2016_12,
        2017_1,
        2017_2,
        2017_3,
        2017_4,
        2017_5,
        2017_6,
        2017_7,
        2017_8,
        2017_9,
        2017_10,
        2017_11,
        2017_12,
        2018_1,
        2018_2,
        2018_3,
        2018_4,
        2018_5,
        2018_6,
        2018_7,
        2018_8,
        2018_9,
        2018_10,
        2018_11,
        2018_12,
        2019_1,
        2019_2,
        2019_3,
        2019_4,
        2019_5,
        2019_6,
        2019_7,
        2019_8,
        2019_9,
        2019_10,
        2019_11,
        2019_12,
        2020_1,
        2020_2,
        2020_3,
        2020_4,
        2020_5,
        2020_6,
        2020_7,
        2020_8,
        2020_9,
        2020_10,
        2020_11,
        2020_12,
        2021_1,
        2021_2,
        2021_3,
        2021_4,
        2021_5,
        2021_6,
        2021_7,
        2021_8,
        2021_9,
        2021_10,
        2021_11,
        2021_12,
        2022_1,
        2022_2,
        2022_3,
        2022_4,
        2022_5,
        2022_6,
        2022_7,
        2022_8,
        2022_9,
        2022_10,
        2022_11,
        2022_12,
        2023_1,
        2023_2,
        2023_3,
        2023_4,
        2023_5,
        2023_6,
        2023_7,
        2023_8,
        2023_9,
        2023_10,
        2023_11,
        2023_12,
        2024_1,
        2024_2,
        2024_3,
        2024_4,
        2024_5,
        2024_6,
        2024_7,
        2024_8,
        2024_9,
        2024_10,
        2024_11,
        2024_12,
        2025_1,
        2025_2,
        2025_3,
        2025_4,
        2025_5,
        2025_6,
        2025_7,
        2025_8,
        2025_9,
        2025_10,
        2025_11,
        2025_12,
        2026_1,
        2026_2,
        2026_3,
        2026_4,
        2026_5,
        2026_6,
        2026_7,
        2026_8,
        2026_9,
        2026_10,
        2026_11,
        2026_12,
        2027_1,
        2027_2,
        2027_3,
        2027_4,
        2027_5,
        2027_6,
        2027_7,
        2027_8,
        2027_9,
        2027_10,
        2027_11,
        2027_12,
        2028_1,
        2028_2,
        2028_3,
        2028_4,
        2028_5,
        2028_6,
        2028_7,
        2028_8,
        2028_9,
        2028_10,
        2028_11,
        2028_12,
        2029_1,
        2029_2,
        2029_3,
        2029_4,
        2029_5,
        2029_6,
        2029_7,
        2029_8,
        2029_9,
        2029_10,
        2029_11,
        2029_12,
        2030_1,
        2030_2,
        2030_3,
        2030_4,
        2030_5,
        2030_6,
        2030_7,
        2030_8,
        2030_9,
        2030_10,
        2030_11,
        2030_12,
        2031_1,
        2031_2,
        2031_3,
    ],
    "gdp": [
        91.687,
        91.961,
        92.0195,
        92.5513,
        92.3066,
        92.2139,
        92.6526,
        92.5197,
        92.6516,
        93.0295,
        92.8692,
        93.2685,
        93.2419,
        93.5345,
        93.7219,
        94.2234,
        94.0166,
        94.1336,
        94.2428,
        94.5378,
        95.0462,
        94.737,
        95.2482,
        95.9471,
        96.0813,
        96.1087,
        96.2108,
        96.613,
        96.7602,
        96.7748,
        96.9762,
        97.1614,
        97.5765,
        97.6088,
        97.8274,
        98.0528,
        97.8321,
        97.8775,
        98.0007,
        97.769,
        98.0835,
        98.4296,
        98.2858,
        98.4504,
        98.5964,
        98.495,
        98.7516,
        98.4909,
        98.8571,
        99.5299,
        99.5556,
        99.3054,
        99.5938,
        100.0858,
        100.5729,
        100.2885,
        100.6168,
        100.4694,
        100.3002,
        100.8246,
        100.8145,
        100.444,
        92.7769,
        74.5691,
        76.1555,
        83.5776,
        89.126,
        91.8198,
        93.026,
        93.5677,
        91.6681,
        92.8976,
        90.3167,
        91.2726,
        93.3356,
        96.7661,
        98.2848,
        99.4212,
        98.8991,
        99.7767,
        100.3606,
        100.7081,
        101.4433,
        100.9219,
        101.4331,
        101.966,
        102.1056,
        101.8883,
        102.5782,
        101.5609,
        101.9985,
        102.0639,
        101.4602,
        102.1466,
        102.205,
        101.8905,
        102.4213,
        102.5735,
        102.2569,
        102.4903,
        102.2648,
        103.0142,
        102.3513,
        102.5317,
        102.7,
        102.691119333333,
        102.5911035,
        102.648987566667,
        102.7382439,
        102.826902266667,
        102.849994266667,
        102.746682666667,
        103.000125733333,
        102.953607066667,
        103.0429296,
        102.937777333333,
        103.040196377333,
        103.101883810667,
        103.001467914,
        103.436630462667,
        103.903851066,
        104.369305800667,
        104.392744180667,
        104.287882906667,
        104.545127619333,
        104.497911172667,
        104.588573544,
        104.481843993333,
        104.585799322993,
        104.648412067827,
        104.54648993271,
        105.057762219592,
        105.601676832582,
        106.143583999278,
        106.167420831738,
        106.06077691608,
        106.322394788862,
        106.274375662602,
        106.366579294248,
        106.25803534122,
        106.363757911484,
        106.42743507298,
        106.323780261566,
        106.808361577782,
        107.326087560435,
        107.841881343266,
        107.866099565046,
        107.757749346737,
        108.023553105484,
        107.974765673204,
        108.068444562956,
        107.958163906679,
        108.065578038068,
        108.130274034147,
        108.024960745751,
        108.661090247568,
        109.331108412417,
        109.998718970132,
        110.023421556347,
        109.912904333672,
        110.184024167593,
        110.134260986668,
        110.229813454215,
        110.117327184813,
        110.226889598829,
        110.29287951483,
        110.185459960666,
        110.834312052519,
        111.517730580666,
        112.198693349534,
        112.223889987474,
        112.111162420345,
        112.387704650945,
        112.336946206401,
        112.434409723299,
        112.319673728509,
        112.431427390806,
        112.498737105127,
        112.389169159879,
        113.05099829357,
        113.748085192279,
        114.442667216525,
        114.468367787223,
        114.353385668752,
        114.635458743964,
        114.583685130529,
        114.683097917765,
        114.56606720308,
        114.680055938622,
        114.748711847229,
        114.636952543077,
        115.312018259441,
        116.023046896124,
        116.731520560856,
        116.757735142968,
    ],
}
default_pop_dictionary = {
    "year": [
        1995,
        1996,
        1997,
        1998,
        1999,
        2000,
        2001,
        2002,
        2003,
        2004,
        2005,
        2006,
        2007,
        2008,
        2009,
        2010,
        2011,
        2012,
        2013,
        2014,
        2015,
        2016,
        2017,
        2018,
        2019,
        2020,
        2021,
        2022,
        2023,
        2024,
        2025,
        2026,
        2027,
        2028,
        2029,
        2030,
        2031,
        2032,
        2033,
        2034,
        2035,
        2036,
        2037,
        2038,
        2039,
        2040,
        2041,
        2042,
        2043,
        2044,
        2045,
    ],
    "population": [
        56.1,
        56.3,
        56.4,
        56.6,
        56.8,
        57,
        57.2,
        57.5,
        57.7,
        58.1,
        58.5,
        58.9,
        59.4,
        59.9,
        60.4,
        60.9,
        61.4,
        61.8,
        62.2,
        62.7,
        63.2,
        63.7,
        64.1,
        64.5,
        64.9,
        65.2,
        65.5,
        65.7,
        65.9,
        66.2,
        66.4,
        66.6,
        66.8,
        67,
        67.1,
        67.3,
        67.5,
        67.6,
        67.7,
        67.8,
        68,
        68.1,
        68.2,
        68.3,
        68.4,
        68.5,
        68.6,
        68.7,
        68.9,
        69,
        69.1,
    ],
}
default_cap_regressor = {
    "date": [
        "2015-1",
        "2015-2",
        "2015-3",
        "2015-4",
        "2015-5",
        "2015-6",
        "2015-7",
        "2015-8",
        "2015-9",
        "2015-10",
        "2015-11",
        "2015-12",
        "2016-1",
        "2016-2",
        "2016-3",
        "2016-4",
        "2016-5",
        "2016-6",
        "2016-7",
        "2016-8",
        "2016-9",
        "2016-10",
        "2016-11",
        "2016-12",
        "2017-1",
        "2017-2",
        "2017-3",
        "2017-4",
        "2017-5",
        "2017-6",
        "2017-7",
        "2017-8",
        "2017-9",
        "2017-10",
        "2017-11",
        "2017-12",
        "2018-1",
        "2018-2",
        "2018-3",
        "2018-4",
        "2018-5",
        "2018-6",
        "2018-7",
        "2018-8",
        "2018-9",
        "2018-10",
        "2018-11",
        "2018-12",
        "2019-1",
        "2019-2",
        "2019-3",
        "2019-4",
        "2019-5",
        "2019-6",
        "2019-7",
        "2019-8",
        "2019-9",
        "2019-10",
        "2019-11",
        "2019-12",
        "2020-1",
        "2020-2",
        "2020-3",
        "2020-4",
        "2020-5",
        "2020-6",
        "2020-7",
        "2020-8",
        "2020-9",
        "2020-10",
        "2020-11",
        "2020-12",
        "2021-1",
        "2021-2",
        "2021-3",
        "2021-4",
        "2021-5",
        "2021-6",
        "2021-7",
        "2021-8",
        "2021-9",
        "2021-10",
        "2021-11",
        "2021-12",
        "2022-1",
        "2022-2",
        "2022-3",
        "2022-4",
        "2022-5",
        "2022-6",
        "2022-7",
        "2022-8",
        "2022-9",
        "2022-10",
        "2022-11",
        "2022-12",
        "2023-1",
        "2023-2",
        "2023-3",
        "2023-4",
        "2023-5",
        "2023-6",
        "2023-7",
        "2023-8",
        "2023-9",
        "2023-10",
        "2023-11",
        "2023-12",
        "2024-1",
        "2024-2",
        "2024-3",
        "2024-4",
        "2024-5",
        "2024-6",
        "2024-7",
        "2024-8",
        "2024-9",
        "2024-10",
        "2024-11",
        "2024-12",
        "2025-1",
        "2025-2",
        "2025-3",
        "2025-4",
        "2025-5",
        "2025-6",
        "2025-7",
        "2025-8",
        "2025-9",
        "2025-10",
        "2025-11",
        "2025-12",
        "2026-1",
        "2026-2",
        "2026-3",
        "2026-4",
        "2026-5",
        "2026-6",
        "2026-7",
        "2026-8",
        "2026-9",
        "2026-10",
        "2026-11",
        "2026-12",
        "2027-1",
        "2027-2",
        "2027-3",
        "2027-4",
        "2027-5",
        "2027-6",
        "2027-7",
        "2027-8",
        "2027-9",
        "2027-10",
        "2027-11",
        "2027-12",
        "2028-1",
        "2028-2",
        "2028-3",
        "2028-4",
        "2028-5",
        "2028-6",
        "2028-7",
        "2028-8",
        "2028-9",
        "2028-10",
        "2028-11",
        "2028-12",
        "2029-1",
        "2029-2",
        "2029-3",
        "2029-4",
        "2029-5",
        "2029-6",
        "2029-7",
        "2029-8",
        "2029-9",
        "2029-10",
        "2029-11",
        "2029-12",
        "2030-1",
        "2030-2",
        "2030-3",
        "2030-4",
        "2030-5",
        "2030-6",
        "2030-7",
        "2030-8",
        "2030-9",
        "2030-10",
        "2030-11",
        "2030-12",
        "2031-1",
        "2031-2",
        "2031-3",
    ],
    "cap": [
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        954.8427,
        948.17288,
        948.17288,
        948.17288,
        948.17288,
        948.17288,
        948.17288,
        1015.25202,
        1015.25202,
        1015.25202,
        1015.25202,
        1015.25202,
        1015.25202,
        1083.30598,
        1083.30598,
        1083.30598,
        1083.30598,
        1083.30598,
        1083.30598,
        1194.48967,
        1194.48967,
        1194.48967,
        1194.48967,
        1194.48967,
        1194.48967,
        1122.45577,
        1122.45577,
        1122.45577,
        1122.45577,
        1122.45577,
        1122.45577,
        1106.26482,
        1106.26482,
        1106.26482,
        1106.26482,
        1106.26482,
        1106.26482,
        1065.88348,
        1065.88348,
        1065.88348,
        1065.88348,
        1025.50214,
        1025.50214,
        1072.8281,
        1072.8281,
        1072.8281,
        1072.8281,
        1120.15405,
        1120.15405,
        1188.1968,
        1188.1968,
        1188.1968,
        1188.1968,
        1256.23955,
        1256.23955,
        1593.51879,
        1593.51879,
        1593.51879,
        1593.51879,
        1930.79804,
        1930.79804,
        2115.39902,
        2115.39902,
        2115.39902,
        2115.39902,
        2300,
        2300,
        2400,
        2400,
        2400,
        2187,
        2287,
        2287,
        2211.5,
        1998.5,
        1998.5,
        2002.5,
        1927,
        1927,
        1888,
        1892,
        1892,
        1877.5,
        1838.5,
        1838.5,
        1858,
        1843.5,
        1843.5,
        1715.21,
        1734.71,
        1734.71,
        1798.27,
        1669.98,
        1669.98,
        1625.6,
        1689.16,
        1689.16,
        1600.4,
        1556.02,
        1556.02,
        1581.1675,
        1492.4075,
        1492.4075,
        1542.7025,
        1567.85,
        1567.85,
        1535.58,
        1585.875,
        1585.875,
        1521.335,
        1489.065,
        1489.065,
        1512.585,
        1448.045,
        1448.045,
        1495.085,
        1518.605,
        1518.605,
        1480.875,
        1527.915,
        1527.915,
        1452.455,
        1414.725,
        1414.725,
        1435.7775,
        1360.3175,
        1360.3175,
        1402.4225,
        1423.475,
        1423.475,
        1395.8075,
        1437.9125,
        1437.9125,
        1382.5775,
        1354.91,
        1354.91,
        1375.14,
        1319.805,
        1319.805,
        1360.265,
        1380.495,
        1380.495,
        1380.495,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
        1420.955,
    ],
}


__all__ = [
    "data_folder",
    "outputs_folder",
    "daylight_path",
    "h_weather_path",
    "h_average_weahter_path",
    "demand_path",
    "corrected_demand_path",
    "initial_date",
    "forecast_horizon",
    "daily_cross_val_horizon",
    "daily_initial",
    "daily_period",
    "monthly_cross_val_horizon",
    "monthly_initial",
    "monthly_period",
    "yearly_regressors",
    "default_monthly_regressors",
    "weather_regressors",
    "daily_base_tuning",
    "monthly_base_tuning",
    "daily_base_hyperopt",
    "daily_regressors_hyperopt",
    "monthly_base_hyperopt",
    "monthly_non_dom_regressors",
    "monthly_dom_regressors",
    "default_gdp_dic",
    "default_pop_dictionary",
    "default_cap_regressor",
]
